/*
 * Copyright (c) 2024/6/24 下午7:50
 *
 * /\  _` \   __          /\_ \  /\_ \
 * \ \ \/\_\ /\_\     __  \//\ \ \//\ \      __      ___      __
 *  \ \ \/_/_\/\ \  /'__`\  \ \ \  \ \ \   /'__`\  /' _ `\  /'_ `\
 *   \ \ \L\ \\ \ \/\ \L\.\_ \_\ \_ \_\ \_/\ \L\.\_/\ \/\ \/\ \L\ \
 *    \ \____/ \ \_\ \__/.\_\/\____\/\____\ \__/.\_\ \_\ \_\ \____ \
 *     \/___/   \/_/\/__/\/_/\/____/\/____/\/__/\/_/\/_/\/_/\/___L\ \
 *                                                            /\____/
 *                                                            \_/__/
 *
 */
#include <gtest/gtest.h>

#include "../src/common/TableFormatter.hpp"

// +---------------------------------------------------------------------------+
// |                                Heap Usage                                 |
// +---------------+-------------------------------------------+---------------+
// |  Generation   |                    New                    |               |
// +---------------+-------------+-------------+---------------+      Old      +
// |     Space     |    Eden     |    From     |      To       |               |
// +---------------+-------------+-------------+---------------+---------------+
// |   Capacity    |     752     |     94      |      94       |     3760      |
// |     Used      |     88      |     88      |       0       |       0       |
// |     Free      |     664     |      6      |       0       |     3760      |
// |    Used(%)    |    11.70    |    93.62    |       0       |     0.00      |
// +---------------------------------------------------------------------------+

static const std::any table[][5] = {
        { "Heap Usage", "Heap Usage", "Heap Usage", "Heap Usage", "Heap Usage" },
        {},
        { "Generation", "New", "New", "New", "Old" },
        {},
        { "Space", "Eden", "From", "To", "Old" },
        {},
        { "Capacity", 752, 94, 94, 3760 },
        { "Used", 88, 88, 0, 0 },
        { "Free", 664, 6, 0, 3760 },
        { "Used(%)", 11.70, 93.62, 0.00, 0.00 }
};

TEST(TableFormatterTest, Println) {
    static constexpr size_t TABLE_SIZE = 60;
    Ciallang::Common::TableFormatter formatter{ TABLE_SIZE, 5 };
    formatter.parse(table);
    formatter.println();
}
